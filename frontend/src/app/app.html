<div class="app-container">
  <!-- Header -->
  <header class="app-header">
    <div class="header-left">
      <h1 class="app-title">{{ title }}</h1>
      <button
        type="button"
        class="settings-btn"
        routerLink="/settings"
        title="Settings"
      >
        <i class="pi pi-bars"></i>
      </button>
    </div>

    <!-- Status Notification Indicator -->
    @if (notification()) {
    <div
      class="status-indicator"
      [class.success]="notification()!.type === 'success'"
      [class.error]="notification()!.type === 'error'"
    >
      <i
        [class]="notification()!.type === 'success' ? 'pi pi-check-circle' : 'pi pi-times-circle'"
      ></i>
      <span>{{ notification()!.message }}</span>
    </div>
    }

    <div class="context-toggle">
      <button
        type="button"
        class="context-button"
        [class.active]="currentWorkspace() === Workspace.WORK"
        (click)="toggleWorkspace()"
      >
        <i class="pi pi-briefcase"></i>
        <span>Work</span>
      </button>
      <button
        type="button"
        class="context-button"
        [class.active]="currentWorkspace() === Workspace.PERSONAL"
        (click)="toggleWorkspace()"
      >
        <i class="pi pi-home"></i>
        <span>Personal</span>
      </button>
    </div>
  </header>

  <!-- Main Content: Lazy-loaded via router -->
  <div class="app-layout">
    <router-outlet></router-outlet>
  </div>
</div>
